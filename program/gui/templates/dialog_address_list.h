/// $Header
/// ============================================================================
///		Author		: M. Ivanchenko
///		Date create	: 21-10-2013
///		Date update	: 23-10-2013
///		Comment		:
/// ============================================================================
#include <QDialog>
#include <QWidget>
#include <QLineEdit>
#include <QKeyEvent>

#ifndef __DIALOG_ADDRESS_LIST_H__
#define __DIALOG_ADDRESS_LIST_H__

namespace mac_mediator
{
class listview_address;
class data_address;
/// ############################################################################
///			class dialog_address_list
/// ############################################################################
    class dialog_address_list : public QDialog
	{
	Q_OBJECT
    /// ========================================================================
    ///		CONSTRUCTORS/DESTRUCTOR
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        dialog_address_list( const dialog_address_list &rhs );

	public:
        /// --------------------------------------------------------------------
        explicit dialog_address_list(
                                    QWidget *parent = 0,
                                    Qt::WindowFlags f = 0/*Qt::Tool|Qt::WindowCloseButtonHint*/
                                    );
        /// --------------------------------------------------------------------
        virtual ~dialog_address_list( );

    /// ========================================================================
    ///		PROPERTIES
    /// ========================================================================
    public:
        /// --------------------------------------------------------------------
        const data_address* address( ) const
        {
            return this->_address;
        }
    /// ========================================================================
    ///		FUNCTIONS
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        void initialize( );
        /// --------------------------------------------------------------------
        void init_layout( );
        /// --------------------------------------------------------------------
        void init_connections( );
        /// --------------------------------------------------------------------
        QWidget* init_search_lineedit( );
        /// --------------------------------------------------------------------
        QWidget* init_list_widget( );
        /// --------------------------------------------------------------------
        void refresh_list( );

	public:

    /// ========================================================================
    ///		PROPERTIES
    /// ========================================================================
	public:
        /// --------------------------------------------------------------------
        /// search_text( )
        QString search_text( ) const
        {
            return this->_txt_search_text->text( );
        }
        void search_text( const QString &text )
        {
            this->_txt_search_text->setText( text );
            this->_txt_search_text->setFocus( );
            this->refresh_list( );
        }

    /// ========================================================================
    ///		OPERATORS
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        dialog_address_list& operator=( const dialog_address_list &rhs );

    /// ========================================================================
    ///		EVENTS
    /// ========================================================================
    protected:
        /// --------------------------------------------------------------------
        void keyPressEvent(QKeyEvent *event);

    /// ========================================================================
    ///		SLOTS
    /// ========================================================================
    private slots:
        /// --------------------------------------------------------------------
        void address_selected( const data_address *address );

    /// ========================================================================
    ///			FIELDS
    /// ========================================================================
    private:
        QLineEdit           *_txt_search_text;
        listview_address    *_lv_street_buildings;

        const data_address  *_address;

	};//class dialog_address_list
/// ############################################################################
/// ----------------------------------------------------------------------------

}//namespace mac_mediator

#endif // __DIALOG_ADDRESS_LIST_H__
