/// $Header
/// ============================================================================
///		Author		: M. Ivanchenko
///		Date create	: 14-10-2014
///		Date update	: 18-11-2014
///		Comment		:
/// ============================================================================
#ifndef __LISTVIEW_VIOLATION_H__
#define __LISTVIEW_VIOLATION_H__

#include <QTableView>
#include <QWidget>

namespace vcamdb
{

class data_violation;
/// ############################################################################
///			class listview_violation
/// ############################################################################
    class listview_violation : public QTableView
	{
	Q_OBJECT
	/// ========================================================================
	///		CONSTRUCTORS/DESTRUCTOR
	/// ========================================================================
	private:
	/// ------------------------------------------------------------------------
        listview_violation( const listview_violation &rhs );

	public:
	/// ------------------------------------------------------------------------
        explicit listview_violation( QWidget *parent = 0 );
	/// ------------------------------------------------------------------------
        ~listview_violation( );

	/// ========================================================================
	///		PROPERTIES
	/// ========================================================================
	public:
	/// ------------------------------------------------------------------------
        const data_violation* current_violation( );

	/// ========================================================================
	///		FUNCTIONS
	/// ========================================================================
    private:
	/// ------------------------------------------------------------------------
		void initialize( );
	/// ------------------------------------------------------------------------
        void init_view( );
	/// ------------------------------------------------------------------------
		void init_connections( );

	/// ========================================================================
	///		OPERATORS
	/// ========================================================================
	private:
	/// ------------------------------------------------------------------------
        listview_violation& operator=( const listview_violation &rhs );

	/// ========================================================================
	///		EVENTS
	/// ========================================================================
	protected:
	/// ------------------------------------------------------------------------
        virtual void resizeEvent( QResizeEvent *event );

	/// ========================================================================
	///		SIGNALS
	/// ========================================================================
	signals:
	/// ------------------------------------------------------------------------
        void current_violation_changed( const data_violation* );

	/// ========================================================================
	///		SLOTS
	/// ========================================================================
    private slots:
	/// ------------------------------------------------------------------------
        void selected_item_changed( );
    public slots:
	/// ------------------------------------------------------------------------
        void select_new_violation( );
	/// ------------------------------------------------------------------------
        void select_updated_violation( const data_violation &v );

	/// ========================================================================
	///			FIELDS
	/// ========================================================================
	private:

    };//class listview_violation
/// ############################################################################
/// ----------------------------------------------------------------------------

}//namespace vcamdb

#endif // __LISTVIEW_VIOLATION_H__
